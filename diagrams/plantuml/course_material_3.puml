@startuml Udemy Sequence Diagram (Functions)

actor "User" as UserActor

participant "UI" as Server
participant Controller
participant Course
participant "User" as UserClass

UserActor -> Server: delete_video(course_id, video_id, response, current_user)
activate Server
Server -> Controller: search_course_by_id(course_id)
activate Controller
Controller --> Server: course
deactivate Controller
Server -> UserClass: search_teacher_by_course(course)
UserClass --> UserClass: check_authorization(current_user, teacher)
Server -> Controller: search_video_by_id(video_id)
activate Controller
Controller --> Server: video
deactivate Controller
Controller -> Course: remove_video(video)
deactivate Controller
Server --> UserActor: get_learn_course_materials(course_id, current_user)
deactivate Server

UserActor -> Server: get_quiz(course_id, quiz_id, current_user)
activate Server
Server -> Controller: search_course_by_id(course_id)
activate Controller
Controller --> Server: course
deactivate Controller
Server -> UserClass: have_access_to_course(course)
Server -> Controller: search_quiz_by_id(quiz_id)
activate Controller
Controller --> Server: quiz
deactivate Controller
Server --> UserActor: course_learn_quiz
deactivate Server


@enduml